<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: header"></head>

<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
<nav th:replace="layouts :: nav"></nav>
<title>Insert title here</title>
</head>
<div class="container">
	<h3>Current activities</h3>
	<hr>
	<a th:href="@{/activities/new}" class="btn btn-primary btn-sm mb-3">
		New activity</a>
		<div class = "form-group">
		<form th:action="@{/activities}">
			Filter: <input type="text" name="keyword" id="keyword" size="50"
				th:value="${keyword}" required /> &nbsp; <input type="submit"
				class="btn btn-info btn btn-sm" value="Search" /> &nbsp; <input type="button" value="Clear" class="btn btn-info btn btn-sm"
				id="btnClear" onclick="clearSearch()" />
		</form>
	</div>
	<table class="table table-bordered table-striped">
		<thead class="thead dark">
			<tr>
				<th>Name</th>
				<th>Start Date</th>
				<th> End Date </th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="anActivity : ${activities}">
				<td th:text="${anActivity.name}" />
				<td th:text="${anActivity.endDate}" />
				<td th:text="${anActivity.startDate}" />
					<td>
				<a th:href="@{/activities/update(id=${anActivity.activityId})}"
					class="btn btn-info btn btn-sm"> Update</a>

				<a th:href="@{/activities/delete(id=${anActivity.activityId})}"
					class="btn btn-danger btn btn-sm"
					onClick="if (!(confirm('Are you sure you want to delete this activity'))) return false">
					Delete</a>
				</td>
			</tr>
		
		</tbody>
	</table>
</div>
<script type="text/javascript">
function clearSearch() {
	window.location = "[[@{/activities}]]";
}
</script>
<body>

</body>
</html>